<!DOCTYPE html>
<html lang="no">
<head>
    <title>Funky Frogger</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="funkyfrogger.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<body>

<!-- Navigasjonsbar -->
<div class="nav" id="nav">
    <a href="index.html">Hjem</a>
    <a href="spill.html">Spill</a>
    <a href="instruksjoner.html">Instruksjoner</a>
    <a href="backstory.html">Bakgrunnshistorie</a>
    <a href="highscore.html" class="active">High Score</a>
    <a href="kontakt.html">Kontakt oss</a>
    <a href="kreditering.html">Kreditering</a>
    <a href="javascript:void(0);" class="icon" onclick="collapsenavbar()">
        <i class="fa fa-bars"></i>
    </a>
</div>

<!-- Overskrift -->
<header class="container text-center">
    <h1 class="page-header">High Score</h1>
</header>

<!-- Hovedinnhold -->
<table id = "scoretable" class="center">
    <tr>
        <th>Rangering</th>
        <th>Poengsum</th>
        <th>Navn</th>
    </tr>
    <tr>
        <td>1</td>
        <td>1337</td>
        <td>Stein</td>
    </tr>
    <tr>
        <td>2</td>
        <td>999</td>
        <td>Stein</td>
    </tr>
    <tr>
        <td>3</td>
        <td>420</td>
        <td>Stein</td>
    </tr>
    </table>

<!-- Script til responsiv navigasjonsbar -->
<script>
    function collapsenavbar() {
        var x = document.getElementById("nav");
        if (x.className === "nav") {
            x.className += " responsive";
        } else {
            x.className = "nav";
        }
    }

function get_high_score_list() {
	try{
		var highScore = JSON.parse(window.localStorage.getItem("highScore"))
	} catch(error) {
		var highScore = [];
	}

	if(!Array.isArray(highScore)) {
		highScore = [];
	}

	return highScore;
}

function add_score_to_table(score) {
	var t = document.getElementById("scoretable").tBodies[0];
	var index = t.children.length;

	var row = t.insertRow();
	row.insertCell().innerHTML = index;
	row.insertCell().innerHTML = score[1];
	row.insertCell().innerHTML = score[0];
}

window.onload = function() {
	highScore = get_high_score_list();
	for(score of highScore) {
		add_score_to_table(score);
	}

}

</script>
    
</body>
</html>
